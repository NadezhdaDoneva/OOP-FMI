Banking system


Да се реализира система имплементираща основни банкови функционалности. Системата ще поддържа следните типове потребители:

Клиент
Клиентът е потребител на приложението, който може да има различни сметки, отворени в различни банки.

За потребител, който е клиент, системата поддържа следния интерфейс:
check_avl [bank_name] [account_number] - Извежда наличността в сметка с номер [account_number] в банка с име [bank_name]. Ако такава сметка или такава банка не съществуват, да се изведе подходяща грешка.
open [bank_name] - Изпраща заявка към банката за отваряне на нова сметка. В заявката, която се изпраща към банката, автоматично се изпращат и неговите имена, ЕГН и възраст (потребителя не ги въвежда ръчно).
close [bank_name] [account_number] - Изпраща заявка към банката за затваряне на сметка. При невалидни данни да се изведе подходяща грешка. 
redeem [bank_name] [account_number] [verification_code] - Осребрява чек, получен от трето лице чрез банката. Парите от чека се прехвърлят в подадената сметка при валидиран код.Ако такъв чек не съществува се извежда подходящо съобщение за грешка.
change [new_bank_name] [current_bank_name] [account_number] - Изпраща заявка към банката за преместване на подадена сметка към друга банка.
list [bank_name] - Извежда всички сметки, които потребителя притежава в банката.
messages - Показва всички съобщения в хронологичен ред.
	
Служител на банка
	Служителят работи по задачи, които са му дадени от банката. Банката генерира задачи на служителите си, когато потребител изпрати заявка за отваряне на сметка, преместване на сметка или затваряне на сметка. Банката знае за своите служители и при получаване на заявка от потребителя създава нова задача на най-малко заетия си служител.

	
Служителя изпълнява задачата си и въвежда резултата в банковата система. Задачите могат да имат следните резултати:
Open заявка - Служителят може да прегледа личните данни на потребителя, който иска да създаде сметка. Служителят може да реши дали да позволи създаването или не. Ако реши да не го позволи, той трябва да изпрати съобщение към клиента.
Close заявка - Аналогично на Open заявката, служителят може да я приеме или откаже. При отказ се изпраща съобщение от служителя.
Change заявка - Служителят трябва да провери дали наистина такава сметка съществува в старата банка на клиента и дали данните съответстват. Ако служителят не направи такава проверка, той не може да одобри смяната. Ако направи такава проверка и валидацията е успешна, служителят може да продължи с одобряване на заявката. Дори валидацията да е успешна служителят, все пак може да не разреши преместването.

При завършена задача от служителя потребителят, който чака резултат от тази задача, получава съобщение. Ако задачата е успешна, съобщението е по подразбиране. Ако е неуспешна, съобщението изпратено от служителя, се изпраща на потребителя. Във всеки един случай потребителя знае името на служителя, който е разгледал задачата му (изпраща се като част от отговора)

	За потребител, който е служител, системата поддържа следния интерфейс:

tasks - показва задачите, които трябва да свърши. Всяка задача има тип, име и индекс.
view [task_id] - Показва всички подробности около задачата.
approve [task_id] - Служителят приключва задачата и одобрява заявката.
disapprove [task_id] [message] - Служителят приключва задачата и отказва заявката.
validate [task_id] - Служителят от новата банка прави заявка към старата банка, очакваща валидация дали потребителя е въвел коректни данни. Тази валидация не минава през служител на старата банка, а се връща на момента. Могат да се валидират единствено Change задачи.

Служител на външна фирма.
 
Служителят на фирма е потребител на системата, който е отговорен за изпращане на чекове към клиенти на банката. Чекът трябва да съдържа:
Уникален таен код от три символа състоящ се от цифри, малки и главни латински букви. (пример: agD, SIY, b5L).
Сума за превод.

	Както бе споменато при разглеждане на интерфейса на клиента, чековете могат да се осребряват с командата redeem. Клиентите трябва да получат съобщение с уникалния си код.
	За потребител, който е служител на външна фирма, системата поддържа следния интерфейс:
send_check [sum] [verification_code] [egn] - Създава чек за потребител с посочено егн.

Представяне на потребителите
	
Всеки един потребител на системата се описва със следните характеристики:

Собствено и фамилно име.
ЕГН
Възраст

	Понеже личната информация на клиентите се разглежда от служителите на банката, клиентите съдържат още адрес и запис на чековете, които е осребрил.

Всички потребители поддържат следния интерфейс:

exit - излиза от профила.
whoami - показва пълна информация за текущия потребител.
help - показва помощно меню за поддържаните команди.

Системни изисквания
	Системата трябва да поддържа следния интерфейс:

login - Вписва потребител в системата.
signup - създава нов потребител в системата. При регистрация можем да се регистрираме като всеки от трите типа служители.
create_bank - създава нова банка в системата. За да се създаде банка не ни е нужен акаунт. За да се създаде служител на банка банката трябва да съществува.
